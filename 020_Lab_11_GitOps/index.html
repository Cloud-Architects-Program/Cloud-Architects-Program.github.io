
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cloud-architects-program.github.io/020_Lab_11_GitOps/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>GitOps with Flux - Cloud Architecture</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gitops-with-flux" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Cloud Architecture" class="md-header__button md-logo" aria-label="Cloud Architecture" data-md-component="logo">
      
  <img src="../images/k8s.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud Architecture
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GitOps with Flux
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Cloud-Architects-Program/assignment" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Cloud Architecture" class="md-nav__button md-logo" aria-label="Cloud Architecture" data-md-component="logo">
      
  <img src="../images/k8s.svg" alt="logo">

    </a>
    Cloud Architecture
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Cloud-Architects-Program/assignment" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    YCIT020
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            YCIT020
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Labs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../020_Module_2_Lab_Terraform_Fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 2 Terraform Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    YCIT019
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            YCIT019
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Labs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Module_5_Lab_Docker_basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 5 Lab - Docker Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Module_6_Lab_Advanced_Docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 6 Lab - Advanced Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Module_7_Lab_Deploy_Kubernetes_kubeadm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 7 Lab - Deploy Kubernetes Cluster with Kubeadm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Module_8_Lab_Kubernetes_Concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 8 Lab - Kuberenetes Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Module_9_Kubernetes_Features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 9 Lab - Kubernetes Features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Module_10_Kubernetes_Scaling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 9 Part 2 Lab Kubernetes Autoscaling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Lab_10_Networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 10 Lab - Kubernetes Networking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Lab_11_Storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 11 Lab - Kubernetes Storage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignments
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Assignments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_ass1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 5 Assignment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_ass2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 6 Assignment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_ass3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 8 Assignment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_ass4_2022/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 9 Assignment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_ass7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 10 Assignment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_ass5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_ass6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment6
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#0-create-regional-gke-cluster-on-gcp" class="md-nav__link">
    <span class="md-ellipsis">
      0 Create Regional GKE Cluster on GCP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-install-and-configure-flux-with-github-repository" class="md-nav__link">
    <span class="md-ellipsis">
      1 Install and Configure Flux with GitHub Repository
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 Install and Configure Flux with GitHub Repository">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-install-the-flux-cli" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Install the Flux CLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-configure-a-github-personal-access-token-with-repo-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Configure a GitHub personal access token with repo permissions.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-export-your-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Export your credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-install-flux-into-gke-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Install Flux into GKE cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-deploy-microservices-applications-with-gitops-using-kustomize-controller" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 Deploy microservices applications with GitOps using Kustomize Controller
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-install-opa-gatekeeper" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 Install OPA Gatekeeper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-deploy-and-test-allowedrepos-policy" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 Deploy and Test allowedrepos Policy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      2 Cleanup
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="gitops-with-flux">GitOps with Flux<a class="headerlink" href="#gitops-with-flux" title="Permanent link">&para;</a></h1>
<p>In this lab you'll build a GitOps pipeline using Flux.</p>
<p><strong>Objective:</strong></p>
<ul>
<li>Install <code>Flux</code></li>
<li>Bootstrap <code>Flux</code> with a new <code>flux-infra</code> repository</li>
<li>Add a <code>GitRepository</code> source type to track the <code>microservices-demo</code>Public application repository which also contains the deployment code. Flux should regularly sync the code from it.</li>
<li>Use the <code>Kustomization</code> Controller to set up automated deployment to the Kubernetes environment. Any changes in the source should be automatically reconciled with the cluster.</li>
</ul>
<h2 id="0-create-regional-gke-cluster-on-gcp">0 Create Regional GKE Cluster on GCP<a class="headerlink" href="#0-create-regional-gke-cluster-on-gcp" title="Permanent link">&para;</a></h2>
<p>This step is optional, feel free to use the notepad cluster instead.</p>
<p><strong>Step 1</strong> Enable the Google Kubernetes Engine API.</p>
<div class="codehilite"><pre><span></span><code>gcloud services enable container.googleapis.com
</code></pre></div>

<p><strong>Step 2</strong> From the cloud shell, run the following command to create a cluster with 1 node:</p>
<div class="codehilite"><pre><span></span><code>gcloud container clusters create k8s-gitops-lab \
--region us-central1 \
--enable-ip-alias \
--enable-network-policy \
--num-nodes 1 \
--machine-type &quot;e2-standard-2&quot; \
--release-channel stable
</code></pre></div>

<div class="codehilite"><pre><span></span><code>gcloud container clusters get-credentials k8s-gitops-lab --region us-central1
</code></pre></div>

<p><strong>Step 3: (Optional)</strong> Setup kubectx</p>
<div class="codehilite"><pre><span></span><code>sudo apt install kubectx
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>we've installed <code>kubectx</code> + <code>kubens</code>: Power tools for <code>kubectl</code>:
- <code>kubectx</code> helps you switch between clusters back and forth
- <code>kubens</code> helps you switch between Kubernetes namespaces smoothly</p>
</div>
<h2 id="1-install-and-configure-flux-with-github-repository">1 Install and Configure Flux with GitHub Repository<a class="headerlink" href="#1-install-and-configure-flux-with-github-repository" title="Permanent link">&para;</a></h2>
<p>To Install Flux we going to perform following tasks:</p>
<ul>
<li>Create a Personal Access Token on GitHub.</li>
<li>Set up environment variables.</li>
<li>Install flux CLI.</li>
<li>Run pre-flight checks.</li>
<li>Bootstrap the Flux v2 infrastructure.</li>
<li>Validate the Flux installation.</li>
</ul>
<h3 id="11-install-the-flux-cli">1.1 Install the Flux CLI<a class="headerlink" href="#11-install-the-flux-cli" title="Permanent link">&para;</a></h3>
<p>With <code>Bash</code> for macOS and Linux:</p>
<div class="codehilite"><pre><span></span><code>curl -s https://fluxcd.io/install.sh | sudo bash
flux check --pre
</code></pre></div>

<p>Reference: <a href="https://fluxcd.io/docs/get-started/">Get Started with Flux</a></p>
<h3 id="12-configure-a-github-personal-access-token-with-repo-permissions">1.2 Configure a GitHub personal access token with repo permissions.<a class="headerlink" href="#12-configure-a-github-personal-access-token-with-repo-permissions" title="Permanent link">&para;</a></h3>
<p>Follow the GitHub documentation on <a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">creating a Personal Access Token (PAT)</a>. Ensure you give the token ability to create repositories as Flux will manage a repository with the contents.</p>
<div class="admonition result">
<p class="admonition-title">Result</p>
<p>You've created <code>GITHUB_TOKEN</code> that will be used to boostrap the Flux</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Personal Access Token (PAT):</strong></p>
<p>Flux <code>bootstrap github</code> command creates a GitHub repository if one doesn’t exist and commits the Flux components manifests to specified branch. Then it configures the target cluster to synchronize with that repository by setting up an SSH deploy key or by using token-based authentication. That is why Flux requires a PAT for initial boostrapping.</p>
<p><strong>Deploy key:</strong></p>
<p>The bootstrap command creates an SSH key which it stores as a secret in the Kubernetes cluster. The key is also used to create a deploy key in the GitHub repository. The new deploy key will be linked to the personal access token used to authenticate. Removing the personal access token will also remove the deploy key.</p>
</div>
<h3 id="13-export-your-credentials">1.3 Export your credentials<a class="headerlink" href="#13-export-your-credentials" title="Permanent link">&para;</a></h3>
<p>Export your GitHub personal access token, generated in step 1.2 and <code>github</code> username:</p>
<div class="codehilite"><pre><span></span><code>export GITHUB_TOKEN=&lt;your-token&gt;
export GITHUB_USER=&lt;your-username&gt;
</code></pre></div>

<h3 id="14-install-flux-into-gke-cluster">1.4 Install Flux into GKE cluster<a class="headerlink" href="#14-install-flux-into-gke-cluster" title="Permanent link">&para;</a></h3>
<p>Run the bootstrap command:</p>
<div class="codehilite"><pre><span></span><code>flux bootstrap github \
  --owner $GITHUB_USER \
  --repository flux-infra \
  --branch main \
  --path &quot;./clusters/dev&quot; \
  --personal \
  --log-level debug
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>✔ repository &quot;&quot;https://github.com/fawix/flux-infra.git&quot; created
✔ cloned repository
✔ generated component manifests
✔ committed sync manifests to &quot;main&quot; (&quot;6cd871ba49834e8106884f3c8daad2f75c6b341f&quot;)
✔ installed components
✔ reconciled components
✔ configured deploy key &quot;flux-system-main-flux-system-./clusters/dev&quot; for &quot;&quot;https://github.com/fawix/flux-infra.git&quot;
✔ reconciled source secret
✔ generated sync manifests
✔ committed sync manifests to &quot;main&quot; (&quot;7d0122f2e4e57ada4f88d7a968528879b07b56e8&quot;)
✔ reconciled sync configuration
✔ Kustomization reconciled successfully
✔ helm-controller: deployment ready
✔ kustomize-controller: deployment ready
✔ source-controller: deployment ready
✔ all components are healthy
</code></pre></div>

<p>Verify Install:</p>
<div class="codehilite"><pre><span></span><code>flux check
</code></pre></div>

<div class="codehilite"><pre><span></span><code>kubectl get crd | grep flux
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>buckets.source.toolkit.fluxcd.io                 2021-09-08T18:07:34Z
gitrepositories.source.toolkit.fluxcd.io         2021-09-08T18:07:34Z
helmcharts.source.toolkit.fluxcd.io              2021-09-08T18:07:34Z
helmreleases.helm.toolkit.fluxcd.io              2021-09-08T18:07:34Z
helmrepositories.source.toolkit.fluxcd.io        2021-09-08T18:07:35Z
kustomizations.kustomize.toolkit.fluxcd.io       2021-09-08T18:07:35Z
</code></pre></div>

<div class="codehilite"><pre><span></span><code>kubectl get gitrepositories -n flux-system
</code></pre></div>

<div class="codehilite"><pre><span></span><code>flux get all
</code></pre></div>

<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>We've <code>flux bootstrap</code> command we've achieved:</p>
<ul>
<li>flux agent components which includes (namespace, CRDs, Sources, Controllers, RBAC) on our cluster<ul>
<li>3 Controllers:</li>
<li>source</li>
<li>kustomize</li>
<li>helm</li>
<li>6 CRDs: </li>
<li>buckets.source</li>
<li>gitrepositories.source</li>
<li>helmcharts.source</li>
<li>helmrepositories.source</li>
<li>helmreleases.helm</li>
<li>kustomizations.kustomize</li>
</ul>
</li>
<li>Created <code>flux-infra</code> Private Github repo with Deploy key</li>
<li><code>flux-infra</code> repo contains flux-infra/clusters/dev/flux-system/ folder</li>
</ul>
</div>
<h3 id="15-deploy-microservices-applications-with-gitops-using-kustomize-controller">1.5 Deploy <code>microservices</code> applications with GitOps using Kustomize Controller<a class="headerlink" href="#15-deploy-microservices-applications-with-gitops-using-kustomize-controller" title="Permanent link">&para;</a></h3>
<p>Let's make a fork of the app, in case we want to deploy changes to test.</p>
<p><strong>Step 1</strong> Fork microservice application</p>
<p>Browse to:</p>
<div class="codehilite"><pre><span></span><code>https://github.com/GoogleCloudPlatform/microservices-demo
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Click: Fork button
Select: Fork to a different account
</code></pre></div>

<p><strong>Step 2</strong> Clone the flux-infra repo</p>
<p>Now that Flux has created the git repo let's clone it so we can start managing our sources with it.</p>
<div class="codehilite"><pre><span></span><code>git clone git@github.com:$GITHUB_USER/flux-infra.git
cd flux-infra
</code></pre></div>

<p>And let's apply gitops principles to manage our sources and kustomizations.
So, let's tell flux where is our source:</p>
<div class="codehilite"><pre><span></span><code>flux create source git microservices-demo \
  --url=https://github.com/$GITHUB_USER/microservices-demo \
  --branch=main \
  --interval=30s \
  --export | tee clusters/dev/onlineboutique.yaml
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want you can commit now to see how flux picks it up but that is not necessary</p>
</div>
<p>And let's tell it how to deploy that source, we will use the kustomizaiton in the <code>./kustomize</code> folder of the repo</p>
<div class="codehilite"><pre><span></span><code>flux create kustomization  microservices-demo-dev \
  --source microservices-demo \
  --path &quot;./kustomize/&quot; \
  --prune true \
  --interval 30s \
  --target-namespace onlineboutique \
  --export | tee -a clusters/dev/onlineboutique.yaml
</code></pre></div>

<p>Finally we must create the namespace ourselves:</p>
<div class="codehilite"><pre><span></span><code>kubectl create ns onlineboutique
kubens onlineboutique
</code></pre></div>

<p>Now commit the changes and watch flux deploy the app:</p>
<div class="codehilite"><pre><span></span><code>git add clusters/dev/onlineboutique.yaml
git commit -m &quot;adding onlineboutique definition&quot; 
git push

flux get source git 
flux get kustomization
kubectl get pods -n onlineboutique
</code></pre></div>

<p><strong>Output</strong>:
  - You'll see <code>microservices-demo</code> under the git sources in Flux
  - You'll see <code>microservices-demo-dev</code> under the kustomizations in Flux
  - You'll see the app pods come online in the namespace <code>onlineboutique</code></p>
<div class="admonition result">
<p class="admonition-title">Result</p>
<p>Onlineboutique pods has been deployed with FluxCD via GitOps</p>
</div>
<div class="codehilite"><pre><span></span><code>kubectl get svc
</code></pre></div>

<p>Access Onlineboutique <code>Frontend</code> via <code>LoadBalancer</code> IP</p>
<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>We've deployed microservices onlineboutique application using GitOps</p>
</div>
<p>Flux keeps the definitions that were created in the repo it manages, so you can easily update it through the repo.
If you run the command without the <code>--export</code> flag it will directly create the definitions in the cluster instead,
however with gitops principle we want to manage it via the repo.</p>
<p>In case you deployed without the <code>--export</code> flag you may recover those files with <code>flux export</code> command.</p>
<p><strong>Optional challenge:</strong>
  - Modify something on your kustomize folder and see Flux deploy it.</p>
<h3 id="16-install-opa-gatekeeper">1.6 Install OPA Gatekeeper<a class="headerlink" href="#16-install-opa-gatekeeper" title="Permanent link">&para;</a></h3>
<p>Let's follow the same principle and install it via commit on the repo.</p>
<p>Let's create the source for the OPA helm chart <a href="https://open-policy-agent.github.io/gatekeeper/website/docs/install/">more info</a>.</p>
<div class="codehilite"><pre><span></span><code>flux create source helm gatekeeper \
  --url=https://open-policy-agent.github.io/gatekeeper/charts \
  --interval=1m \
  --export | tee clusters/dev/opa-gatekeeper.yaml
</code></pre></div>

<p>Note that is not pointing to a git repo, it's pointing to a chart registry.
Now instead of a kustomization we use that chart release.</p>
<div class="codehilite"><pre><span></span><code>flux create helmrelease gatekeeper \
  --interval=1m \
  --source=HelmRepository/gatekeeper \
  --chart=gatekeeper \
  --target-namespace=gatekeeper \
  --chart-version=&quot;3.10.0&quot; \
  --export | tee -a clusters/dev/opa-gatekeeper.yaml
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Inspect the created file to make sure it's following the specs</p>
</div>
<p>Let's create our namesapce:</p>
<div class="codehilite"><pre><span></span><code>kubectl create ns gatekeeper
</code></pre></div>

<p>And commit the changes to the git repo:</p>
<div class="codehilite"><pre><span></span><code>git add clusters/dev/onlineboutique.yaml
git commit -m &quot;adding gatekeeper to the cluster&quot; 
git push
</code></pre></div>

<p>With that now Flux will add the a helm chart source,
and deploy a helm release to the cluster in the <code>gatekeeper</code> namespace</p>
<div class="codehilite"><pre><span></span><code>flux get source helm 
flux get helmrelease
kubectl get pods -n gatekeeper
</code></pre></div>

<p><strong>Output</strong>:
  - You'll see <code>gatekeeper</code> under the helm sources in Flux
  - You'll see <code>gatekeeper</code> under the helm releases in Flux
  - You'll see the app pods come online in the namespace <code>onlineboutique</code></p>
<div class="admonition result">
<p class="admonition-title">Result</p>
<p>We've deployed Gatekeeper to our GKE cluster. It's time to add some policies!</p>
</div>
<h3 id="17-deploy-and-test-allowedrepos-policy">1.7 Deploy and Test allowedrepos Policy<a class="headerlink" href="#17-deploy-and-test-allowedrepos-policy" title="Permanent link">&para;</a></h3>
<p><strong>Step 1</strong> Let's create a <code>policy</code> folder where we going to store our cluster wide policies:</p>
<div class="codehilite"><pre><span></span><code>cd ~
mkdir -p policy/templates
mkdir -p policy/constraints
</code></pre></div>

<p><strong>Step 2</strong> Download OSS Gatekeeper libraries:</p>
<div class="codehilite"><pre><span></span><code>cd ~
git clone https://github.com/open-policy-agent/gatekeeper-library
</code></pre></div>

<p><strong>Step 3</strong> Review <code>allowedrepos</code> constraint template:</p>
<div class="codehilite"><pre><span></span><code>cp gatekeeper-library/library/general/allowedrepos/template.yaml policy/templates
cat policy/templates/allowedrepos_template.yaml
</code></pre></div>

<div class="codehilite"><pre><span></span><code>cd  ~/policy/templates
kubens gatekeeper
kubectl apply -f allowedrepos_template.yaml
</code></pre></div>

<p>Review a <code>ConstraintTemplate</code> CRD and observe created resource:</p>
<div class="codehilite"><pre><span></span><code>kubectl get  ConstraintTemplate
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even if k8sallowedrepos <code>ConstraintTemplate</code> has been deployed in <code>gatekeeper</code> namespace in our case.
The Policy will be applied Cluster Wide.</p>
</div>
<p><strong>Step 4</strong> Let's create a Gatekeeper constraint that will block all Pods, which images are non  <code>gcr.io</code> registries. We first going to test our constraint in a current system and so we going to run it in <code>dryrun</code> enforcementAction mode. We will </p>
<div class="codehilite"><pre><span></span><code>cd  ~/policy/constraints
cat &lt;&lt; EOF&gt; allowed-repos.yaml
apiVersion: constraints.gatekeeper.sh/v1beta1
kind: K8sAllowedRepos
metadata:
  name: allowed-repos
spec:
  enforcementAction: dryrun
  match:
    kinds:
      - apiGroups: [&quot;&quot;]
        kinds: [&quot;Pod&quot;]
    excludedNamespaces: [&quot;onlineboutique&quot;]
  parameters:
    repos:
      - &quot;gcr.io&quot;
      - &quot;gke.gcr.io&quot;
      - &quot;k8s.gcr.io&quot;
EOF
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We've added <code>excludedNamespaces</code> clause, as our microservices app has some redis image that is downloaded from dockerhub.</p>
</div>
<div class="codehilite"><pre><span></span><code>kubectl apply -f allowed-repos.yaml
</code></pre></div>

<div class="codehilite"><pre><span></span><code>kubectl describe K8sAllowedRepos
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>Total Violations:  12
  Violations:
    Enforcement Action:  dryrun
    Kind:                Pod
    Message:             container &lt;manager&gt; has an invalid image repo &lt;ghcr.io/fluxcd/helm-controller:v0.11.2&gt;, allowed repos are [&quot;gcr.io&quot;, &quot;gke.gcr.io&quot;]
    Name:                helm-controller-5cbd57f468-cr7ht
    Namespace:           flux-system
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We can observe ~12 Violations in our cluster. However since our Enforcement Action is <code>dryrun</code>, non the policy will take effect. </p>
</div>
<div class="codehilite"><pre><span></span><code>kubectl describe K8sAllowedRepos | grep Namespace
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>    Namespace:           flux-system
    Namespace:           flux-system
    Namespace:           flux-system
    Namespace:           gatekeeper
    Namespace:           gatekeeper
    Namespace:           gatekeeper
    Namespace:           gatekeeper
    Namespace:           kube-system
    Namespace:           kube-system
    Namespace:           kube-system
    Namespace:           kube-system
    Namespace:           kube-system
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We can observe that all violations are for <code>kube-system</code>, <code>flux-system</code> and <code>gatekeeper</code>.
This is due to they using images from following repos <code>k8s.gcr.io</code>, <code>ghcr.io/fluxcd</code>, <code>openpolicyagent/gatekeeper</code> respectively. To workaround this issue we can add above repo's in trusted listed of repos.
Another alternative is to <code>copy</code> required images to your personal <code>gcr</code> repo using tools like <a href="https://github.com/google/go-containerregistry/blob/main/cmd/gcrane/README.md">crane</a>.</p>
</div>
<p><strong>Step 5</strong> Update K8sAllowedRepos constraint to support trusted registries:</p>
<div class="codehilite"><pre><span></span><code>cat &lt;&lt; EOF&gt; allowed-repos.yaml
apiVersion: constraints.gatekeeper.sh/v1beta1
kind: K8sAllowedRepos
metadata:
  name: allowed-repos
spec:
  enforcementAction: dryrun
  match:
    kinds:
      - apiGroups: [&quot;&quot;]
        kinds: [&quot;Pod&quot;]
    excludedNamespaces: [&quot;onlineboutique&quot;]
  parameters:
    repos:
      - &quot;gcr.io&quot;
      - &quot;gke.gcr.io&quot;
      - &quot;k8s.gcr.io&quot;
      - &quot;ghcr.io/fluxcd&quot;
      - &quot;openpolicyagent/gatekeeper&quot;
EOF
</code></pre></div>

<div class="codehilite"><pre><span></span><code>kubectl apply -f allowed-repos.yaml
</code></pre></div>

<div class="codehilite"><pre><span></span><code>kubectl describe K8sAllowedRepos
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All violations has been resolved, however it may take some time until the messages will be cleared in the Events.</p>
</div>
<p><strong>Step 6</strong> Update K8sAllowedRepos constraint and set <code>enforcementAction</code> to <code>deny</code> in order to block all Pods with registry violations:</p>
<div class="codehilite"><pre><span></span><code>cat &lt;&lt; EOF&gt; allowed-repos.yaml
apiVersion: constraints.gatekeeper.sh/v1beta1
kind: K8sAllowedRepos
metadata:
  name: allowed-repos
spec:
  enforcementAction: deny
  match:
    kinds:
      - apiGroups: [&quot;&quot;]
        kinds: [&quot;Pod&quot;]
    excludedNamespaces: [&quot;onlineboutique&quot;]
  parameters:
    repos:
      - &quot;gcr.io&quot;
      - &quot;gke.gcr.io&quot;
      - &quot;k8s.gcr.io&quot;
      - &quot;ghcr.io/fluxcd&quot;
      - &quot;openpolicyagent/gatekeeper&quot;
EOF
</code></pre></div>

<div class="codehilite"><pre><span></span><code>kubectl apply -f allowed-repos.yaml
</code></pre></div>

<div class="codehilite"><pre><span></span><code>kubectl describe K8sAllowedRepos
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p>Total Violations is 0, as expected.</p>
</div>
<p><strong>Step 7</strong> Deploy <code>nginx</code> Pod from dockerhub in <code>default</code> namespace and thus violate our cluster Policy</p>
<div class="codehilite"><pre><span></span><code>kubectl run nginx --image=nginx -n default
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>Error from server ([allowed-repos] container &lt;nginx&gt; has an invalid image repo &lt;nginx&gt;, allowed repos are [&quot;gcr.io&quot;, &quot;gke.gcr.io&quot;, &quot;k8s.gcr.io&quot;, &quot;ghcr.io/fluxcd&quot;, &quot;openpolicyagent/gatekeeper&quot;]): admissionwebhook &quot;validation.gatekeeper.sh&quot; denied the request: [allowed-repos] container &lt;nginx&gt; has an invalid image repo &lt;nginx&gt;, allowed repos are [&quot;gcr.io&quot;, &quot;gke.gcr.io&quot;, &quot;k8s.gcr.io&quot;, &quot;ghcr.io/fluxcd&quot;, &quot;openpolicyagent/gatekeeper&quot;]
</code></pre></div>

<div class="admonition error">
<p class="admonition-title">Error</p>
<p>Gatekeeper Admission Controller blocked nginx Pod deployment due to it's violating the <code>allowedrepos</code> constraint.</p>
</div>
<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>We've secured our cluster from deployments of dangerous and unauthorized images</p>
</div>
<p><strong>Optional Challenges:</strong>
  - Deploy the OPA policies using GitOps
  - Deploy the Notepad Applicaiton using GitOps</p>
<h2 id="2-cleanup">2 Cleanup<a class="headerlink" href="#2-cleanup" title="Permanent link">&para;</a></h2>
<p>Cluster clean up:</p>
<div class="codehilite"><pre><span></span><code>flux delete kustomization microservices-demo-dev
flux delete source git microservices-demo
flux delete helmrelease gatekeeper
flux delete source helm gatekeeper
kubectl delete ns gatekeeper
kubectl delete ns onlineboutique
</code></pre></div>

<p>Uninstall flux:</p>
<div class="codehilite"><pre><span></span><code>flux uninstall --namespace=flux-system
</code></pre></div>

<p>The above command performs the following operations:</p>
<ul>
<li>deletes Flux components (deployments and services)</li>
<li>deletes Flux network policies</li>
<li>deletes Flux RBAC (service accounts, cluster roles and cluster role bindings)</li>
<li>removes the Kubernetes finalizers from Flux custom resources</li>
<li>deletes Flux custom resource definitions and custom resources</li>
<li>deletes the namespace where Flux was installed</li>
</ul>
<p>Delete GKE cluster:</p>
<div class="codehilite"><pre><span></span><code>gcloud container clusters delete k8s-gitops-lab --region us-central1
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/googlecloud" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>