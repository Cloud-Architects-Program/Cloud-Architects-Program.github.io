
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cloud-architects-program.github.io/ycit019_Lab_2_Docker_basics/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>ycit019 Lab 2 Docker basics - Cloud Architecture</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prepare-lab-environment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Cloud Architecture" class="md-header__button md-logo" aria-label="Cloud Architecture" data-md-component="logo">
      
  <img src="../images/k8s.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud Architecture
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ycit019 Lab 2 Docker basics
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Cloud-Architects-Program/assignment" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Cloud Architecture" class="md-nav__button md-logo" aria-label="Cloud Architecture" data-md-component="logo">
      
  <img src="../images/k8s.svg" alt="logo">

    </a>
    Cloud Architecture
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Cloud-Architects-Program/assignment" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cloud Native Administrator
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Cloud Native Administrator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Module 5 - Docker Basics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Module 5 - Docker Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../presentation5.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Presentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_Module_5_Lab_Docker_basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Labs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ycit019_ass1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prepare-lab-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare Lab Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-docker-basics" class="md-nav__link">
    <span class="md-ellipsis">
      1 Docker basics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 Docker basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-show-running-containers" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Show running containers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-specify-a-container-main-process" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Specify a container main process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-specify-an-image-version" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Specify an image version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-run-an-interactive-container" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Run an interactive container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-run-a-container-in-a-background" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 Run a container in a background
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-accessing-containers-from-the-internet" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 Accessing Containers from the Internet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-restart-a-container" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 Restart a container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-ensuring-container-uptime" class="md-nav__link">
    <span class="md-ellipsis">
      1.8 Ensuring Container Uptime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#19-inspect-a-container" class="md-nav__link">
    <span class="md-ellipsis">
      1.9 Inspect a container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#110-interacting-with-containers" class="md-nav__link">
    <span class="md-ellipsis">
      1.10 Interacting with containers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.10 Interacting with containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1101-detach-from-interactive-container" class="md-nav__link">
    <span class="md-ellipsis">
      1.10.1 Detach from Interactive container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1112-attach-to-a-container" class="md-nav__link">
    <span class="md-ellipsis">
      1.11.2 Attach to a container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1113-execute-a-process-in-a-container" class="md-nav__link">
    <span class="md-ellipsis">
      1.11.3 Execute a process in a container
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-copy-files-tofrom-container" class="md-nav__link">
    <span class="md-ellipsis">
      1.12 Copy files to/from container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-remove-containers" class="md-nav__link">
    <span class="md-ellipsis">
      1.12 Remove containers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<p>Lab 2 Docker basics</p>
<p><strong>Objective:</strong></p>
<ul>
<li>Practice to run Docker containers</li>
</ul>
<h2 id="prepare-lab-environment">Prepare Lab Environment<a class="headerlink" href="#prepare-lab-environment" title="Permanent link">&para;</a></h2>
<p>This lab can be executed in you GCP Cloud Environment using Google Cloud Shell.</p>
<p>Open the Google Cloud Shell by clicking on the icon on the top right of the screen:</p>
<p><img alt="alt text" src="../images/cloud_shell.png" title="Google Cloud Shell" /></p>
<p>Once opened, you can use it to run the instructions for this lab.</p>
<h1 id="1-docker-basics">1 Docker basics<a class="headerlink" href="#1-docker-basics" title="Permanent link">&para;</a></h1>
<h2 id="11-show-running-containers">1.1 Show running containers<a class="headerlink" href="#11-show-running-containers" title="Permanent link">&para;</a></h2>
<p><strong>Step 1</strong> Run docker ps to show running containers:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<p><strong>Step 2</strong> The output shows that there are no running containers at the moment.
Use the command docker <code>ps -a</code> to list all containers including the ones has
been stopped:</p>
<div class="codehilite"><pre><span></span><code>docker ps -a
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>CONTAINER ID IMAGE       COMMAND  CREATED        STATUS             PORTS  NAMES
6e6db2a24a8e hello-world &quot;/hello&quot; 15 minutes ago Exited (0) 15 min  dreamy_nobel
</code></pre></div>

<p>Review the collumns <code>CONTAINER ID</code>, <code>STATUS</code>, <code>COMMAND</code>, <code>PORTS</code>, <code>NAMES</code>.</p>
<p>In the previous section we started one container and the command docker <code>ps -a</code>
shows it as <code>Exited</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can name your own containers with --name when you use docker run. If
you do not provide a name, Docker will generate a random one like the one
you have.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Why Docker names are random? How docker containers named?</p>
</div>
<p><strong>Step 3</strong> Let’s run the command <code>docker images</code> to show all the images on your
local system:</p>
<div class="codehilite"><pre><span></span><code>docker images
</code></pre></div>

<p>As you see, there is only one image that was downloaded from the Docker Hub.</p>
<h2 id="12-specify-a-container-main-process">1.2 Specify a container main process<a class="headerlink" href="#12-specify-a-container-main-process" title="Permanent link">&para;</a></h2>
<p><strong>Step 1</strong> Let’s run our own "hello world" container. For that we will use the
official <a href="https://hub.docker.com/_/ubuntu/">Ubuntu image</a>:</p>
<div class="codehilite"><pre><span></span><code>docker run ubuntu /bin/echo &#39;Hello world&#39;
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>Unable to find image &#39;ubuntu:latest&#39; locally
latest: Pulling from library/ubuntu
...
Status: Downloaded newer image for ubuntu:latest
Hello world
</code></pre></div>

<p>As you see, Docker downloaded the image ubuntu because it was not on the local
machine.</p>
<p><strong>Step 2</strong> Let’s run the command <code>docker images</code> again:</p>
<div class="codehilite"><pre><span></span><code>docker images
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>REPOSITORY          TAG                 IMAGE ID            CREATED        SIZE
ubuntu              latest              42118e3df429        11 days ago  124.8 MB
hello-world         latest              c54a2cc56cbb        4 weeks ago  1.848 kB
</code></pre></div>

<p><strong>Step 3</strong> If you run the same "hello world" container again, Docker will use a
local copy of the image:</p>
<div class="codehilite"><pre><span></span><code>docker run ubuntu /bin/echo &#39;Hello world&#39;
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>Hello world
</code></pre></div>

<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Compare Ubuntu Docker image with ISO image or with Cloud VM image.</p>
<ul>
<li>Why the size is so different ?</li>
</ul>
</div>
<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>Pulling docker images from Docker Hub takes sometime. This time depends on:</p>
<ul>
<li>How large is the image?</li>
<li>How fast is the network to Internet ?</li>
</ul>
<p>However, it is still much faster than booting traditional OS with Ubuntu
on VM.</p>
<p>If image already pulled on local host it takes fraction of a second to start
a container.</p>
<p>Running application in docker containers considered as a best practice
for running CI/CD pipelines as it considerably faster than using VMs and
reduce time for deploying a test environments.</p>
</div>
<h2 id="13-specify-an-image-version">1.3 Specify an image version<a class="headerlink" href="#13-specify-an-image-version" title="Permanent link">&para;</a></h2>
<p><strong>Step 1</strong> As you see, Docker has downloaded the ubuntu:latest image. You can
see Ubuntu version by running the following command:</p>
<div class="codehilite"><pre><span></span><code>docker run ubuntu /bin/cat /etc/issue.net
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>Ubuntu 16.04 LTS
</code></pre></div>

<p>Let’s say you need a previous Ubuntu LTS release. In this case, you can specify
the version you need:</p>
<div class="codehilite"><pre><span></span><code>docker run ubuntu:14.04 /bin/cat /etc/issue.net
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>Unable to find image &#39;ubuntu:14.04&#39; locally
14.04: Pulling from library/ubuntu
...
Status: Downloaded newer image for ubuntu:14.04
Ubuntu 14.04.4 LTS
</code></pre></div>

<p><strong>Step 2</strong> The <code>docker images</code> command should show that we have 3 Ubuntu
images downloaded locally:</p>
<div class="codehilite"><pre><span></span><code>docker images
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
ubuntu              latest              42118e3df429        11 days ago         124.8 MB
ubuntu              14.04               0ccb13bf1954        11 days ago         188 MB
hello-world         latest              c54a2cc56cbb        4 weeks ago         1.848 kB
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Running CI/CD pipeline with Docker using <code>latest</code> tag
considered as a Bad Practice.</p>
<p>Instead consider using:</p>
<ul>
<li>Versioning</li>
<li><code>SHA</code> tagging.</li>
</ul>
</div>
<h2 id="14-run-an-interactive-container">1.4 Run an interactive container<a class="headerlink" href="#14-run-an-interactive-container" title="Permanent link">&para;</a></h2>
<p><strong>Step 1</strong> Let’s use the <code>ubuntu</code> image to run an <em>interactive</em> bash session and
inspect what is running inside our docker image.</p>
<p>To achive that we going to use  <code>-i</code> and <code>-t</code> flags.</p>
<p>The  <code>-i</code> is shorthand for <code>--interactive</code>, which instructs Docker to keep
<code>stdin</code> open so that we can send commands to the sprocess.</p>
<p>The <code>-t</code> flag is short for <code>--tty</code> and allocates a <code>pseudo-TTY</code> or terminal
inside of the session.</p>
<div class="codehilite"><pre><span></span><code>docker run -it ubuntu /bin/bash
root@17d8bdeda98e:/#
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p>We get a  bash shell prompt inside of the container.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bash prompt is not availabe for all docker images.</p>
</div>
<p><strong>Step 2</strong> Let's print the system information of the latest <code>Ubuntu</code> image:</p>
<div class="codehilite"><pre><span></span><code>root@17d8bdeda98e:/#  uname -a
Linux 17d8bdeda98e 3.19.0-31-generic ...
</code></pre></div>

<p><strong>Step 3</strong> Let's verify what Ubuntu version is run by <code>latest</code> image of ubuntu:</p>
<div class="codehilite"><pre><span></span><code>root@17d8bdeda98e:/#  lsb_release -a
bash: lsb_release: command not found
</code></pre></div>

<div class="admonition failure">
<p class="admonition-title">Failure</p>
<p>Why the standard Ubuntu command that checks version of OS is not working as
expeced ?</p>
</div>
<p><strong>Step 4</strong> Let's verify Ubuntu version using alternative way by checking
<code>/etc/lsb-release</code> file.</p>
<div class="codehilite"><pre><span></span><code>root@8cbcbd0fe8d2:/# cat /etc/lsb-release
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=16.04
DISTRIB_CODENAME=xenial
DISTRIB_DESCRIPTION=&quot;Ubuntu 16.04.3 LTS&quot;
</code></pre></div>

<p><strong>Step 5</strong> Let's compare the number of executable binaries availabe inside of
the docker image versus Cloud VM that we running our class environment. First,
run <code>ls</code> command on  <code>/bin</code> and <code>/usr/bin</code> directories inside of the running
ubuntu container as well as <code>dpkg --list</code> command that shows total number of
installed packages:</p>
<div class="codehilite"><pre><span></span><code>root@8cbcbd0fe8d2:/# ls /bin | wc -l
86
root@8cbcbd0fe8d2:/# ls /usr/bin | wc -l
233
root@eb11cd0b4106:/# dpkg --list | wc -l
101
</code></pre></div>

<p><strong>Step 6</strong> Use the <code>exit</code> command or press <code>Ctrl-D</code> to exit the interactive
bash session back to Cloud VM.</p>
<div class="codehilite"><pre><span></span><code>root@eb11cd0b4106:/# exit
</code></pre></div>

<p><strong>Step 7</strong> Now run <code>ls</code> command on <code>/bin</code> and <code>/usr/bin</code> directories on Cloud VM
that we using as our class environment:</p>
<div class="codehilite"><pre><span></span><code>cca-user@userx-docker-vm:~$ ls /bin | wc -l
171
cca-user@userx-docker-vm:~$ ls /usr/bin | wc -l
660
cca-user@userx-docker-vm:~$ dpkg --list | wc -l
463
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p>Official Docker container has much less binaries and packages installed vs
Ubuntu Cloud Image.</p>
</div>
<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>Some of the use cases running docker containers in <code>interactive mode</code> are:</p>
<ul>
<li>Troubleshooting containerized applications</li>
<li>Deploying and running containerized application on the existing
production systems without affecting it.</li>
</ul>
<p>We've also learned that an official Docker "minimal" ubuntu image, does not
include <code>lsb_release</code> command, as well as many other commands and packages
that can be found in <a href="https://www.ubuntu.com/download/server">Official Ubuntu ISO image</a>.
The docker images are ment to contain only required <em>core system</em> commands
and functions to make Images as light as possible.
That say you can still install required packages using <code>apt-get install</code>,
however this may increase size of docker image considerably.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>While Docker <code>Ubuntu</code> image we used so far or Docker <code>Centos</code> image are
very familiar to users and can be good starting point for learning docker
containers. Using them in production or development considered as a Bad
Practice.</p>
<p>This is due those images still considered as <code>heavy</code> and potentially
contain a lot more valnurabilities compare to specialized images.</p>
<p>To reduce image pull time from docker hub and follow the best secuirity
practices consider using specialized images that works well with you
underlining code (Node image for NodeJS applications and etc.).
Examples of specialized images are:</p>
<ul>
<li>Alpine Linux</li>
<li>Node</li>
<li>Atomic</li>
</ul>
<p>In fact, not so long ago all the <a href="https://github.com/docker-library/official-images/tree/master/library">official Docker Images</a>
in Docker-Hub <a href="https://www.brianchristner.io/docker-is-moving-to-alpine-linux/">has been moved</a>
to use <a href="https://www.alpinelinux.org/">Alpine Image</a>.</p>
</div>
<p><strong>Step 8</strong> Finally let’s check that when the shell process has finished, the
container stops:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<h2 id="15-run-a-container-in-a-background">1.5 Run a container in a background<a class="headerlink" href="#15-run-a-container-in-a-background" title="Permanent link">&para;</a></h2>
<p>Now we know how to connect to running container and execute commands in it.
However in most cases you just want run a container in a <em>background</em> so it can
do a specific action.</p>
<p><strong>Step 1</strong> Run a container in a background using the <code>-d</code> command line argument:</p>
<div class="codehilite"><pre><span></span><code>docker run -d ubuntu /bin/sh -c &quot;while true; do date; echo hello world; sleep 1; done&quot;
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p>Command should return the container ID.</p>
</div>
<p><strong>Step 2</strong> Let’s use the <code>docker ps</code> command to see running containers:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<div class="codehilite"><pre><span></span><code> CONTAINER ID IMAGE  COMMAND                  CREATED        STATUS  PORTS NAMES
ac231579e57f ubuntu &quot;/bin/sh -c &#39;while tr&quot;   1 minute ago   Up 11 minute  evil_golick
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Container id is going to  be different in your case</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Instead of using full <code>container-id</code> when building commands, it is possible
simply type first few characters of container-id, to make things nice and
easy.</p>
</div>
<p><strong>Step 3</strong> Let’s use <code>container-id</code> to show the container standard output:</p>
<div class="codehilite"><pre><span></span><code>docker logs &lt;container-id&gt;
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Thu Jan 26 00:23:45 UTC 2017
hello world
Thu Jan 26 00:23:46 UTC 2017
hello world
Thu Jan 26 00:23:47 UTC 2017
hello world
...
</code></pre></div>

<p>As you can see, in the <code>docker ps</code> command output, the auto generated container
name is <code>evil_golick</code> (your container can have a different name).</p>
<p><strong>Step 4</strong> Now, instead of using docker <code>contaier-id</code> use container name to
show the container standard output:</p>
<div class="codehilite"><pre><span></span><code>docker logs &lt;name&gt;
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Thu Jan 26 00:23:51 UTC 2017
hello world
Thu Jan 26 00:23:52 UTC 2017
hello world
Thu Jan 26 00:23:53 UTC 2017
hello world
...
</code></pre></div>

<p><strong>Step 5</strong> Finally, let’s stop our container:</p>
<div class="codehilite"><pre><span></span><code>docker stop &lt;name&gt;
</code></pre></div>

<p><strong>Step 6</strong> Check, that there are no running containers:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p><code>docker logs</code> is a very usefull command to troubleshoot containers,
and going to be used very often both for Docker and Kubernertes
troubleshooting.</p>
</div>
<h2 id="16-accessing-containers-from-the-internet">1.6 Accessing Containers from the Internet<a class="headerlink" href="#16-accessing-containers-from-the-internet" title="Permanent link">&para;</a></h2>
<p><strong>Step 1</strong> Let’s run a simple web application. We will use the existing image
training/webapp, which contains a Python Flask application:</p>
<div class="codehilite"><pre><span></span><code>docker run -d -P training/webapp python app.py
</code></pre></div>

<div class="codehilite"><pre><span></span><code>...
Status: Downloaded newer image for training/webapp:latest
6e88f42d3d853762edcbfe1fe73fdc5c48865275bc6df759b83b0939d5bd2456
</code></pre></div>

<p>In the command above we specified the main process (python app.py), the <code>-d</code>
command line argument, which tells Docker to run the container in the
background. The <code>-P</code> command line argument tells Docker to map any required
network ports inside our container to our host. This allows us to access the web
application in the container.</p>
<p><strong>Step 2</strong> Use the <code>docker ps</code> command to list running containers:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<div class="codehilite"><pre><span></span><code>CONTAINER ID IMAGE           COMMAND         CREATED       STATUS       PORTS                   NAMES
6e88f42d3d85 training/webapp &quot;python app.py&quot; 3 minutes ago Up 3 minutes 0.0.0.0:32768-&gt;5000/tcp determined_torvalds
</code></pre></div>

<p>The PORTS column contains the mapped ports. In our case, Docker has exposed port
5000 (the default Python Flask port) on port 32768 (can be different in your
case).</p>
<p><strong>Step 3</strong> The <code>docker port</code> command shows the exposed port. We will use the
container name (determined_torvalds in the example above, it can be different in
your case):</p>
<div class="codehilite"><pre><span></span><code>docker port &lt;name&gt; 5000
0.0.0.0:32768
</code></pre></div>

<p><strong>Step 4</strong> Let’s check that we can access the web application exposed port:</p>
<div class="codehilite"><pre><span></span><code>curl http://localhost:&lt;port&gt;/
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p><code>Hello world!</code></p>
</div>
<p><strong>Step 5</strong> Let’s stop our web application for now:</p>
<div class="codehilite"><pre><span></span><code>docker stop &lt;name&gt;
</code></pre></div>

<p><strong>Step 6</strong> We want to manually specify the local port to expose (-p argument).
Let’s use the standard HTTP port 80. We also want to specify the container name
(--name argument):</p>
<div class="codehilite"><pre><span></span><code>docker run -d -p 80:5000 --name webapp training/webapp python app.py
</code></pre></div>

<p><strong>Step 7</strong> Let’s check that the port 80 is exposed:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<div class="codehilite"><pre><span></span><code>CONTAINER ID IMAGE           COMMAND         CREATED       STATUS       PORTS                NAMES
249476631f7d training/webapp &quot;python app.py&quot; 1 minute  ago Up 1 minute  0.0.0.0:80-&gt;5000/tcp webapp
</code></pre></div>

<div class="codehilite"><pre><span></span><code>curl http://localhost/
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p>`Hello world!``</p>
</div>
<p><strong>Step 8</strong> You can also observe <code>Hello world!</code> webapp from you laptop, for that you
need to use you public VM IP that can be gather from VMs list:</p>
<div class="codehilite"><pre><span></span><code>Your_VM_Public_IP
</code></pre></div>

<p>Than paste VM Public IP address in you browser.</p>
<div class="admonition result">
<p class="admonition-title">Result</p>
<p>Our web-app can be accessed from Internet!</p>
</div>
<h2 id="17-restart-a-container">1.7 Restart a container<a class="headerlink" href="#17-restart-a-container" title="Permanent link">&para;</a></h2>
<p><strong>Step 1</strong> Let’s stop the container with web application:</p>
<div class="codehilite"><pre><span></span><code>docker stop webapp
</code></pre></div>

<p>The main process inside of the container will receive SIGTERM, and after a grace
period, SIGKILL.</p>
<p><strong>Step 2</strong> You can start the container later using the <code>docker start</code> command:</p>
<div class="codehilite"><pre><span></span><code>docker start webapp
</code></pre></div>

<p><strong>Step 3</strong> Check that the web application works:</p>
<div class="codehilite"><pre><span></span><code>curl http://localhost/
Hello world!
</code></pre></div>

<p><strong>Step 4</strong> You also can restart the running container using the docker restart
command.</p>
<div class="codehilite"><pre><span></span><code>docker restart webapp
</code></pre></div>

<p><strong>Step 4</strong>  Run <code>docker ps</code> command and check  <code>STATUS</code> field:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<div class="codehilite"><pre><span></span><code>CONTAINER ID    IMAGE             COMMAND           CREATED           STATUS              
6e400179070f    training/webapp   &quot;python app.py&quot;   25 minutes ago    Up 3 seconds
</code></pre></div>

<h2 id="18-ensuring-container-uptime">1.8 Ensuring Container Uptime<a class="headerlink" href="#18-ensuring-container-uptime" title="Permanent link">&para;</a></h2>
<p>Docker considers any containers to exit with a non-zero exit code to have
crashed. By default a crashed container will remain stopped.</p>
<p><strong>Step 1</strong> Start the container that outputs a message and then exits with code 1
to simulate a crash.</p>
<div class="codehilite"><pre><span></span><code>docker run -d --name restart-default scrapbook/docker-restart-example
</code></pre></div>

<div class="codehilite"><pre><span></span><code>docker ps -a | grep restart-default
</code></pre></div>

<div class="codehilite"><pre><span></span><code>CONTAINER ID  IMAGE                             CREATED       STATUS               NAMES
c854289d2f39  scrapbook/docker-restart-example  5 seconds ago Exited 3 sec ago    restart-default
$ docker logs restart-default
Sun Sep 17 20:34:55 UTC 2017 Booting up...
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p>Container crushed and exited.</p>
</div>
<p>However, there are several ways to ensure that you container up and running even
if it’s restarts.</p>
<p><strong>Step 2</strong> The option <code>--restart=on-failure</code>: allows you to say how many times
Docker should try again:</p>
<div class="codehilite"><pre><span></span><code>docker run -d --name restart-3 --restart=on-failure:3 scrapbook/docker-restart-example
</code></pre></div>

<div class="codehilite"><pre><span></span><code>docker logs restart-3
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Thu Apr 20 14:01:27 UTC 2017 Booting up...
Thu Apr 20 14:01:28 UTC 2017 Booting up...
Thu Apr 20 14:01:29 UTC 2017 Booting up...
Thu Apr 20 14:01:31 UTC 2017 Booting up...
</code></pre></div>

<p><strong>Step 3</strong> Finally, Docker can always restart a failed container. In this case,
Docker will keep trying until the container is explicitly told to stop.</p>
<div class="codehilite"><pre><span></span><code>docker run -d --name restart-always --restart=always scrapbook/docker-restart-example
docker logs restart-always
</code></pre></div>

<p><strong>Step 4</strong>  After sometime stop running docker container, as it will be keep
failing and starting again:</p>
<div class="codehilite"><pre><span></span><code>docker stop restart-always
</code></pre></div>

<h2 id="19-inspect-a-container">1.9 Inspect a container<a class="headerlink" href="#19-inspect-a-container" title="Permanent link">&para;</a></h2>
<p><strong>Step 1</strong> You can use the <code>docker inspect</code> command to see the configuration and
status information for the specified container:</p>
<div class="codehilite"><pre><span></span><code>docker inspect webapp
</code></pre></div>

<div class="codehilite"><pre><span></span><code>[
    {
        &quot;Id&quot;: &quot;249476631f7d...&quot;,
        &quot;Created&quot;: &quot;2016-08-02T23:42:56.932135327Z&quot;,
        &quot;Path&quot;: &quot;python&quot;,
        &quot;Args&quot;: [
            &quot;app.py&quot;
        ],
        &quot;State&quot;: {
            &quot;Status&quot;: &quot;running&quot;,
            &quot;Running&quot;: true,
            &quot;Paused&quot;: false,
            &quot;Restarting&quot;: false,
            &quot;OOMKilled&quot;: false,
            &quot;Dead&quot;: false,
            &quot;Pid&quot;: 16055,
            &quot;ExitCode&quot;: 0,
            &quot;Error&quot;: &quot;&quot;,
            ...
</code></pre></div>

<p><strong>Step 2</strong> You can specify a filter (-f command line argument) to show only
specific elements. For example:</p>
<div class="codehilite"><pre><span></span><code>docker inspect -f &#39;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39; webapp
</code></pre></div>

<div class="codehilite"><pre><span></span><code>172.17.0.2
</code></pre></div>

<p>The command returns the IP address of the container.</p>
<h2 id="110-interacting-with-containers">1.10 Interacting with containers<a class="headerlink" href="#110-interacting-with-containers" title="Permanent link">&para;</a></h2>
<p>In some cases using <code>docker log</code> is not enough to undertand issues and you
want to login inside of running VM. Also sometimes you package you applicaiton
and in order to run it you need to login inside of container and execute and
leave it running in background. Below provded few ways to interacting with
containers that can help to achive descrined use cases.</p>
<h3 id="1101-detach-from-interactive-container">1.10.1 Detach from Interactive container<a class="headerlink" href="#1101-detach-from-interactive-container" title="Permanent link">&para;</a></h3>
<p>In Module, <code>1.4 Run an interactive container</code> we run an <code>Ubuntu</code> container with
<code>-it</code> flag and able directly login inside of the container to interact with it,
however after we exited contianer using <code>Ctrl-D</code> or <code>exit</code> command container
stopped. However you can exit from <code>Interactive mode</code> without stoping
a container. Let's demonstrate how this works:</p>
<p><strong>Step 1</strong> Start Ubunu container in interactive  mode:</p>
<div class="codehilite"><pre><span></span><code>docker run -it ubuntu /bin/bash
</code></pre></div>

<p><strong>Step 2</strong> Run <code>watch date</code> command inside running container in order to exit
<code>date</code> command every 2 seconds.</p>
<div class="codehilite"><pre><span></span><code>root@1d688a9f4ed4:/# watch date
</code></pre></div>

<p><strong>Step 3</strong> Detach from a container and leave it running using the
<code>CTRL-p</code> <code>CTRL-q</code> key sequence.</p>
<p><strong>Step 4</strong> Verify that Ubuntu container is still running:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<div class="codehilite"><pre><span></span><code>CONTAINER ID  IMAGE   COMMAND      CREATED        STATUS        NAMES
1d688a9f4ed4  ubuntu  &quot;/bin/bash&quot;  1 minutes ago  Up 1 minutes  admiring_lovelace
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p>Great you were able to detach from Docker container without stopping it,
while it is executing a process in it.
What about attaching back to container ?</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code>CTRL-p</code> <code>CTRL-q</code>  sequence key only works if docker contaienr started
with <code>-it</code> command!</p>
</div>
<h3 id="1112-attach-to-a-container">1.11.2 Attach to a container<a class="headerlink" href="#1112-attach-to-a-container" title="Permanent link">&para;</a></h3>
<p>Now let's get back and <code>attach</code> to our running Ubuntu image. For that
docker provides <code>docker attach</code> command.</p>
<div class="codehilite"><pre><span></span><code>docker attach &lt;container name&gt;
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Every 2.0s: date                                                                                                                    Mon Sep 18 00:08:57 2017
</code></pre></div>

<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p><code>docker attach</code> attaches your contairs terminal’s standard input, output,
and error (or any combination of the 3) to a running container. This allows
you to view its ongoing output or to control it interactively, as though
the commands were running directly in your terminal.</p>
</div>
<h3 id="1113-execute-a-process-in-a-container">1.11.3 Execute a process in a container<a class="headerlink" href="#1113-execute-a-process-in-a-container" title="Permanent link">&para;</a></h3>
<p><strong>Step 1</strong> Let verify if webapp container is still running</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<div class="codehilite"><pre><span></span><code>CONTAINER ID IMAGE           COMMAND         CREATED       STATUS       PORTS                NAMES
249476631f7d training/webapp &quot;python app.py&quot; 1 minute  ago Up 1 minute  0.0.0.0:80-&gt;5000/tcp webapp
</code></pre></div>

<p>If not running start it with following command: <code>$ docker run -d -p 80:5000 --name webapp training/webapp python app.py</code>
other wise skip to <strong>next step</strong>.</p>
<p><strong>Step 2</strong> Use the docker exec command to execute a command in the running
container. For example:</p>
<div class="codehilite"><pre><span></span><code>docker exec webapp ps aux
</code></pre></div>

<div class="codehilite"><pre><span></span><code>USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.2  0.0  52320 17384 ?        Ss   00:11   0:00 python app.py
root        26  0.0  0.0  15572  2104 ?        Rs   00:12   0:00 ps aux
</code></pre></div>

<p>The same command with the <code>-it</code> command line argument can be used to run an
interactive session in the container:</p>
<div class="codehilite"><pre><span></span><code>docker exec -it webapp bash
root@249476631f7d:/opt/webapp# ps auxw
ps auxw
</code></pre></div>

<div class="codehilite"><pre><span></span><code>USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0  52320 17384 ?        Ss   00:11   0:00 python app.py
root        32  0.0  0.0  18144  3064 ?        Ss   00:14   0:00 bash
root        47  0.0  0.0  15572  2076 ?        R+   00:16   0:00 ps auxw
</code></pre></div>

<p><strong>Step 2</strong> Use the <code>exit</code> command or press <code>Ctrl-D</code> to exit the interactive bash
session:</p>
<div class="codehilite"><pre><span></span><code>root@249476631f7d:/opt/webapp# exit
</code></pre></div>

<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p><code>docker exec</code> is one of the most usefull docker commands used for
troubleshooting containers.</p>
</div>
<h2 id="112-copy-files-tofrom-container">1.12 Copy files to/from container<a class="headerlink" href="#112-copy-files-tofrom-container" title="Permanent link">&para;</a></h2>
<p>The <code>docker cp</code> command allows you to copy files from the container to the local
machine or from the local file system to the container. This command works for
a running or stopped container.</p>
<p><strong>Step 1</strong> Let’s copy the container’s app.py file to the local machine:</p>
<div class="codehilite"><pre><span></span><code>docker cp webapp:/opt/webapp/app.py .
</code></pre></div>

<p><strong>Step 2</strong> Edit the local app.py file. For example, change the line return
'Hello '+provider+'!' to return 'Hello '+provider+'!!!'. Copy the modified file
back and restart the container:</p>
<div class="codehilite"><pre><span></span><code>docker cp app.py webapp:/opt/webapp/

docker restart webapp
</code></pre></div>

<p><strong>Step 3</strong> Check that the modified web application works::</p>
<div class="codehilite"><pre><span></span><code>curl http://localhost/
</code></pre></div>

<div class="admonition result">
<p class="admonition-title">Result</p>
<p>`Hello world!!!``</p>
</div>
<h2 id="112-remove-containers">1.12 Remove containers<a class="headerlink" href="#112-remove-containers" title="Permanent link">&para;</a></h2>
<p>Now let's clean up the environment and at the same time learn how delete
containers.</p>
<p>Step 1 First list running containers:</p>
<div class="codehilite"><pre><span></span><code>docker ps
</code></pre></div>

<div class="codehilite"><pre><span></span><code>CONTAINER ID IMAGE           COMMAND         CREATED       STATUS       PORTS                NAMES
81c4c66baaf9 training/webapp &quot;python app.py&quot; 1 minute  ago Up 1 minute  0.0.0.0:80-&gt;5000/tcp webapp
</code></pre></div>

<p>Step 2 Than try to delete running container using <code>docker rm &lt;container_id&gt;</code></p>
<div class="codehilite"><pre><span></span><code>docker rm $container_id
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Error response from daemon: You cannot remove a running container 81c4c66baaf9. Stop the container before attempting removal or force remove.
</code></pre></div>

<div class="admonition failure">
<p class="admonition-title">Failure</p>
<p>Docker containers needs to be first stopped or deleted using <code>--force</code> flag.</p>
</div>
<div class="codehilite"><pre><span></span><code>docker rm $container_id -f
</code></pre></div>

<p>Alternatively, you can run <code>stop</code> and <code>rm</code> in sequence:</p>
<div class="codehilite"><pre><span></span><code>docker stop 81c4c66baaf9
docker rm 81c4c66baaf9
</code></pre></div>

<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>We've learned a lot of docker commands which are very handy to know both
when using Docker and Kubernetes. We've also learned how to create Docker Images from DOCKERFILE.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/googlecloud" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>